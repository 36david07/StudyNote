# 탈출문자 심화 활용

* 탈출문자란?
* 캐리지 리턴이란?
* 캐리지 리턴으로 간지나게 코딩하기

## 탈출 문자

탈출문자란, `\n` `\t` `\'` `\"` 처럼 역슬래쉬(`\`)가 포함된 문자열입니다.  
이런 탈출문자들은 문자열 내에서 특수한 기능을 수행합니다.  
이 중에 자주 사용하는 탈출문자로는, `\n`, `\'`, `\"`, `\\`가 있습니다.  
각각 `줄바꿈`, `' " \ 그대로 출력하기`입니다.

## 캐리지 리턴이란? 

캐리지 리턴(`\r`)은, 탈출 문자의 일종이고, 커서를 현재 줄(line)의 맨 앞으로 보내는 기능을 합니다.  
이런 신기한 기능 때문에, 캐리지 리턴은 탈출문자 중에 가장 이상하고 복잡하게 작동합니다.
예시를 보겠습니다.
```
a = "Hello!\rWorld!" 
# Hello! 다음엔 문자열 맨 앞으로 가서 Insert키를 누른 듯이
# World!가 기존의 문자들을 교체하며 입력된다.

print(a) # World!

print(a == "World!") # False
print(len(a)) # 13
# 캐리지 리턴 해서 사라진 문자들은, 
# 보이지 않을 뿐이지 메모리에 남아있어서 이렇게 출력됨
# \b (백스페이스)도 판정이 비슷함
```

## 캐리지 리턴으로 간지나게 코딩하기

사실 캐리지 리턴은 간지나게 코딩하는 것에 가장 큰 의미가 있습니다.  
다른 사람한테 자신의 코딩 실력을 뽐내거나, 싫어하는 사람 코드에 캐리지 리턴이 포함된 문자열을 입력으로 넣어서 이상한 반례를 만드는 것이 가장 주된 사용처입니다(...) 

장난이고, 캐리지 리턴은 **문자열의 길이가 감소하지 않는**, 반복문에서 사용할 때에 가장 유용하게 쓰입니다.  
예시를 보겠습니다.

```
for i in range(100):
    print(f'{i = }입니다.')
    
    # 데이터 분석을 할 때에 자주 보게 되는 반복문 print
    # 쓸데없이 줄만 길어지고, 어차피 끝에 값만 필요한데
    # 가독성이 너무 떨어짐
```

```
# f-string과 캐리지 리턴으로 반복문 print 처리하기

from time import sleep
# 정해진 시간(초)만큼 기다리는 sleep 함수

for i in range(100):
    sleep(0.5)
    print(f'\r{i = }입니다.', end='')
    # 1줄짜리 출력에서 i = xx입니다. 에서 xx부분이 갱신되는 것처럼 보임
    # Google Colab에서 화살표로 진행상황 보여주는 것도 캐리지 리턴 활용한 거임
    # 직접 실행해보는 거 추천! 예쁘게 나옴
```
로딩 표현하기 (병렬처리로 무언가 로딩하고 있는 경우)
```
# 로딩중 xx%... 꼴의 문자열 출력하기
from time import sleep

D = {1:'.', 2:'..', 3:'...'} # 점 1 2 3개 반복 출력

c = 1
while (Loading < 100): # Loading는 Sudo Code
    sleep(0.2)
    print(f"\r로딩중 {Loading}%{D[c]}", end='')
    c = c%3 + 1 # c는 1, 2, 3, 1, ... 반복
    
    # 캐리지 리턴(\r)과 end=''는 같이 써줘야 합니다. 안그러면 \n이랑 차이 없음
```

문자열의 길이가 감소하지 않는 경우엔, \r 이전의 문자열이, \r 이후의 문자열로 
완벽히 대체되기에 확실히 예쁘게 잘 나옵니다.  

만약 문자열의 길이가 반복문을 돌면서 점점 줄어드는 경우엔, 자릿수를 미리 예상하여 잘 맞춰주어야 합니다. 
```
# 문자열의 길이가 줄어드는 경우

from time import sleep

for i in range(100)[::-1]: # 99, 98, ..., 2, 1, 0
    sleep(0.2)
    print(f'\ri = {i:2}입니다.', end='') 
    
    # {i:2} 오른쪽 정렬해서 2자리로 출력
    # {i:2 = }처럼 :과 =을 동시에 쓰진 못해서, 따로 써줌
    
    # 오른쪽 정렬을 하지 않으면, 2자릿수에서 1자릿수로 갈 때에, 끝에 .이 안사라져서 
    # i = 9입니다.. 이런 식으로 출력됨
```

